# ContractGuard AI - 智能合约风险控制系统

## 项目概述

### 项目名称
ContractGuard AI - AI驱动的智能合约风险控制与稳定机制

### 赛道选择
AI × ETH - AI驱动的风险控制与稳定机制

### 项目简介
ContractGuard AI 是一个基于人工智能的智能合约风险预防系统，通过创新的四维度分析框架为以太坊生态提供全方位风险控制。系统不仅检测传统的代码安全漏洞，更重要的是验证智能合约的业务逻辑实现是否与项目预期一致，从根本上降低区块链应用的系统性风险。

### 核心价值主张

**解决的关键问题：**
- 传统安全审计工具仅关注代码层面漏洞，忽略业务逻辑风险
- 人工审计成本高昂、周期冗长，无法满足快速迭代需求  
- 缺乏实时的风险评估和智能化修复指导
- 区块链应用频发的资金损失事件多源于业务逻辑与代码实现的偏差

**AI驱动的创新解决方案：**
- **业务逻辑一致性验证**：首创将项目预期行为与代码实现进行 AI 对比分析
- **四维度全方位评估**：代码安全、设计质量、业务逻辑、Gas 优化的综合分析体系
- **智能修复建议生成**：基于 AI 分析提供具体的代码修改方案和优先级排序
- **预防性风险控制**：在合约部署前识别潜在风险，保护链上资产安全

### 支持的业务类型
- **DeFi（去中心化金融）**: 借贷协议、DEX、流动性挖矿、收益聚合器
- **NFT（非同质化代币）**: 数字藏品、NFT市场、元宇宙资产
- **DAO（去中心化自治组织）**: 治理代币、投票机制、资金管理
- **GameFi（游戏化金融）**: 链游经济、P2E机制、游戏资产
- **其他创新应用**: 身份认证、供应链、预言机等各类智能合约应用

### 目标用户
- DeFi协议开发团队
- NFT项目开发者
- DAO治理系统开发团队
- GameFi游戏项目团队
- 智能合约审计公司
- 区块链项目安全团队
- 以太坊生态各类DApp开发者

## 架构与实现

### 系统架构总览
```
[React前端界面] ↔ [Spring Boot后端API] ↔ [AI分析引擎]
       ↓                    ↓                 ↓
  [用户交互层]        [业务逻辑层]      [四维度智能分析]
```

### 核心功能模块

#### 1. 智能合约解析模块
- Solidity代码静态分析与AST构建
- 多文件项目结构解析
- 函数调用关系图谱生成

#### 2. AI风险评估引擎
- **代码安全分析**：重入攻击、整数溢出、访问控制等经典漏洞检测
- **设计质量评估**：架构合理性、升级机制、应急控制能力评估
- **业务逻辑验证**：实现与预期的一致性分析，逻辑缺陷识别
- **Gas优化建议**：成本分析、优化建议、性能改进方案

#### 3. 风险控制决策系统
- 综合风险评分算法
- 修复方案自动生成
- 优先级排序与建议

### 技术栈

#### 前端技术栈
- **框架**: React 19.1.1 + TypeScript 5.9.3
- **构建工具**: Vite (rolldown-vite@7.1.14)
- **UI框架**: Tailwind CSS 3.4.18 + Radix UI组件库
- **代码编辑器**: Monaco Editor 4.7.0
- **状态管理**: Zustand 5.0.8
- **路由管理**: React Router DOM 7.9.3
- **区块链集成**: Ethers.js 6.15.0 + Viem 2.37.11
- **HTTP客户端**: Axios 1.12.2
- **工具库**: Lodash 4.17.21, date-fns 4.1.0

#### 后端技术栈
- **框架**: Spring Boot 3.2.0
- **语言**: Java 17
- **构建工具**: Maven 3.6+
- **微服务**: Spring Cloud 2023.0.0
- **Web框架**: Spring Web
- **远程调用**: OpenFeign
- **JSON处理**: Jackson 2.15.3
- **JWT认证**: JJWT 0.11.5
- **参数校验**: Spring Boot Validation
- **环境配置**: Spring DotEnv 4.0.0
- **开发工具**: Lombok

## 快速开始

### 环境要求
- **前端**: Node.js >= 18.0.0, pnpm >= 8.0.0
- **后端**: Java 17+, Maven 3.6+

### 一键启动

#### 方式一：使用启动脚本
```bash
# 启动前端
./start-frontend.sh

# 启动后端 (新终端)
./start-backend.sh
```

#### 方式二：手动启动
```bash
# 启动后端服务
cd backend
mvn spring-boot:run

# 启动前端服务 (新终端)
cd frontend
pnpm install
pnpm run dev
```

### 访问地址
- **前端界面**: http://localhost:5173
- **后端API**: http://localhost:8080
- **健康检查**: http://localhost:8080/security/health

## 核心功能展示

### 四维度分析体系
1. **代码安全分析**
   - 重入攻击检测
   - 整数溢出/下溢
   - 访问控制漏洞
   - 拒绝服务攻击风险

2. **设计质量评估** 
   - 架构设计合理性
   - 升级机制完备性
   - 应急控制能力
   - 事件日志完整性

3. **业务逻辑验证**
   - 预期行为 vs 实际实现对比
   - 业务流程完整性检查
   - 逻辑缺陷识别
   - 功能缺失分析

4. **Gas优化建议**
   - 函数Gas消耗分析
   - 优化方案生成
   - 成本效益评估
   - 性能改进建议

### AI驱动的智能特性
- **业务逻辑理解**：AI解析项目描述，理解预期业务行为
- **代码实现对比**：智能对比代码实现与业务预期的一致性
- **风险等级评估**：基于多维度分析的智能风险评分
- **修复方案生成**：针对发现问题的具体修复代码建议

### 跨业务类型适配
- **DeFi协议**：资金安全、流动性风险、治理漏洞
- **NFT项目**：元数据安全、铸造机制、版税分配
- **DAO治理**：投票机制、权限管理、资金控制
- **GameFi应用**：经济模型、资产安全、游戏公平性
- **通用合约**：基础安全、性能优化、标准合规

## 使用流程

1. **项目配置**：填写项目名称、选择业务类型、输入详细描述和预期行为
2. **合约上传**：添加一个或多个Solidity合约文件，支持多文件项目
3. **分析类型选择**：选择安全分析、Gas优化、业务验证或全面分析
4. **AI分析处理**：后端AI引擎根据业务类型进行针对性四维度分析
5. **结果展示**：查看详细的分析报告和修复建议
6. **修复指导**：获取具体的代码修改方案和优先级排序

## 项目结构
```
ContractGuard-AI-Risk-Control/
├── frontend/                 # React前端应用
│   ├── src/
│   │   ├── components/       # UI组件
│   │   ├── pages/           # 页面组件
│   │   ├── services/        # API服务
│   │   └── ...
│   ├── package.json
│   └── README.md
├── backend/                  # Spring Boot后端
│   ├── src/main/java/
│   │   └── com/contractguard/
│   ├── pom.xml
│   └── README.md
├── docs/                     # 项目文档
├── start-frontend.sh         # 前端启动脚本
├── start-backend.sh          # 后端启动脚本
└── README.md                # 项目总说明
```

## API接口文档

### 核心接口

#### 智能合约分析
```http
POST /security/analyze
Content-Type: application/json

{
  "contracts": [
    {
      "fileName": "Example.sol",
      "code": "pragma solidity ^0.8.0;...",
      "isMain": true
    }
  ],
  "businessContext": {
    "projectName": "示例项目",
    "businessType": "DeFi|NFT|DAO|GameFi|Other",
    "businessDescription": "详细业务描述",
    "expectedBehavior": "预期行为说明",
    "securityRequirements": "安全要求"
  },
  "analysisType": "all"
}
```

#### 系统健康检查
```http
GET /security/health
```

## Demo视频
[录制中，将在提交前完成]

## 在线演示
[部署中，将在提交前完成]

## 项目价值与创新点

### 对以太坊生态的贡献
- **降低系统性风险**：预防因合约漏洞导致的大规模资金损失
- **提升区块链安全标准**：为各类DApp开发提供AI驱动的安全保障  
- **促进生态健康发展**：让开发者更容易构建安全可靠的区块链应用
- **推动安全工具进化**：从单纯代码检查到业务逻辑验证的范式转变

### 技术创新亮点
- **首创业务逻辑AI验证**：业界首个结合业务预期分析的智能安全系统
- **四维度综合评估**：全方位风险评估体系，覆盖安全、设计、逻辑、性能
- **多业务类型适配**：支持DeFi、NFT、DAO、GameFi等各类区块链应用
- **智能修复建议**：AI生成具体可执行的代码修复方案
- **用户友好体验**：可视化风险报告和直观的操作界面

### 实用价值
- **开发效率提升**：快速识别问题，减少迭代周期
- **审计成本降低**：自动化分析减少人工审计依赖
- **风险控制前移**：在部署前发现并解决潜在问题
- **标准化安全流程**：为团队提供统一的安全检查标准
- **跨领域适用性**：一套工具覆盖多种区块链应用场景

## 团队信息
- **开发者**：[你的姓名]
- **联系方式**：[你的邮箱]
- **可演示时段**：北京时间 9:00-22:00

## 技术支持

### 常见问题
1. **后端启动失败**：检查Java 17版本和Maven配置
2. **前端依赖安装失败**：确认Node.js和pnpm版本
3. **API连接失败**：验证后端服务是否正常启动
4. **分析结果异常**：检查合约代码格式和业务信息完整性

### 开发调试
- 前端调试：浏览器DevTools + React DevTools
- 后端调试：IDE断点调试 + 日志输出
- API测试：使用Postman或curl工具

## 许可证
本项目为ETHShanghai 2025黑客松参赛作品，遵循开源协议。

---

**ContractGuard AI - 让智能合约更安全，让区块链生态更稳定**
