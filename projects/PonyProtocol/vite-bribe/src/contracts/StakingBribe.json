{
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_ctf",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_collateralToken",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "conditionId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "uint8",
          "name": "outcome",
          "type": "uint8"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "weight",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "lockUntil",
          "type": "uint256"
        }
      ],
      "name": "Staked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "conditionId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "uint8",
          "name": "outcome",
          "type": "uint8"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "Unstaked",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "collateralToken",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ctf",
      "outputs": [
        {
          "internalType": "contract ICTF",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "conditionId",
          "type": "bytes32"
        },
        {
          "internalType": "uint8",
          "name": "outcome",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "newLockDuration",
          "type": "uint256"
        }
      ],
      "name": "extendLock",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "conditionId",
          "type": "bytes32"
        },
        {
          "internalType": "uint8",
          "name": "outcome",
          "type": "uint8"
        }
      ],
      "name": "getPoolInfo",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "totalWeight",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "marketEndTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "currentWeightFactor",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "conditionId",
          "type": "bytes32"
        },
        {
          "internalType": "uint8",
          "name": "outcome",
          "type": "uint8"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserStake",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "weight",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "lockUntil",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isPermanentLock",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "conditionId",
          "type": "bytes32"
        },
        {
          "internalType": "uint8",
          "name": "outcome",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "additionalAmount",
          "type": "uint256"
        }
      ],
      "name": "increaseAmount",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        },
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "name": "onERC1155BatchReceived",
      "outputs": [
        {
          "internalType": "bytes4",
          "name": "",
          "type": "bytes4"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "name": "onERC1155Received",
      "outputs": [
        {
          "internalType": "bytes4",
          "name": "",
          "type": "bytes4"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        },
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "name": "pools",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "totalWeight",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "marketStartTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "marketEndTime",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "conditionId",
          "type": "bytes32"
        },
        {
          "internalType": "uint8",
          "name": "outcome",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "lockDuration",
          "type": "uint256"
        }
      ],
      "name": "stake",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "conditionId",
          "type": "bytes32"
        },
        {
          "internalType": "uint8",
          "name": "outcome",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "stakePermanent",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        },
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "stakes",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "weight",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "lockUntil",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isPermanentLock",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes4",
          "name": "interfaceId",
          "type": "bytes4"
        }
      ],
      "name": "supportsInterface",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "conditionId",
          "type": "bytes32"
        },
        {
          "internalType": "uint8",
          "name": "outcome",
          "type": "uint8"
        }
      ],
      "name": "unstake",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60c060405234801561000f575f5ffd5b50604051611c26380380611c2683398101604081905261002e91610060565b6001600160a01b039182166080521660a052610091565b80516001600160a01b038116811461005b575f5ffd5b919050565b5f5f60408385031215610071575f5ffd5b61007a83610045565b915061008860208401610045565b90509250929050565b60805160a051611b2e6100f85f395f61023f01525f818161012b015281816104a3015281816105f20152818161067d0152818161086b01528181610b9f01528181610c5a01528181610ce50152818161108a0152818161144801526114d30152611b2e5ff3fe608060405234801561000f575f5ffd5b50600436106100e5575f3560e01c8063b2016bd411610088578063e0bf78aa11610063578063e0bf78aa146102ac578063f23a6e61146102fd578063fa9c14ad1461031c578063fd037d4014610363575f5ffd5b8063b2016bd41461023a578063bc197c8114610261578063d5de142914610299575f5ffd5b806380450f40116100c357806380450f40146101655780638c6ebb5d14610178578063940f71971461018b578063aba9f2ef1461019e575f5ffd5b806301ffc9a7146100e95780630ad339951461011157806322a9339f14610126575b5f5ffd5b6100fc6100f7366004611541565b610376565b60405190151581526020015b60405180910390f35b61012461011f366004611584565b6103ac565b005b61014d7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610108565b6101246101733660046115ae565b610785565b6101246101863660046115e6565b610798565b6101246101993660046115e6565b6107ab565b6102186101ac366004611630565b5f92835260016020818152604080862060ff958616875282528086206001600160a01b0394909416865292815293829020825160808101845281548082529282015495810186905260028201549381018490526003909101549093161515606090930183905293909190565b6040805194855260208501939093529183015215156060820152608001610108565b61014d7f000000000000000000000000000000000000000000000000000000000000000081565b61028061026f3660046117ab565b63bc197c8160e01b95945050505050565b6040516001600160e01b03199091168152602001610108565b6101246102a73660046115e6565b610a98565b6102e26102ba366004611584565b5f60208181529281526040808220909352908152208054600182015460029092015490919083565b60408051938452602084019290925290820152606001610108565b61028061030b36600461185e565b63f23a6e6160e01b95945050505050565b61021861032a366004611630565b600160208181525f9485526040808620825293855283852090529083529120805491810154600282015460039092015490919060ff1684565b6102e2610371366004611584565b610eb9565b5f6001600160e01b03198216630271189760e51b14806103a657506301ffc9a760e01b6001600160e01b03198316145b92915050565b60018160ff1611156103d95760405162461bcd60e51b81526004016103d0906118b6565b60405180910390fd5b5f82815260016020908152604080832060ff8516845282528083203384529091529020805461043b5760405162461bcd60e51b815260206004820152600e60248201526d139bc81cdd185ad948199bdd5b9960921b60448201526064016103d0565b806002015442101561047e5760405162461bcd60e51b815260206004820152600c60248201526b14dd1a5b1b081b1bd8dad95960a21b60448201526064016103d0565b600381015460ff16156105b05760405163149a507760e11b8152600481018490525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632934a0ee906024015f60405180830381865afa1580156104ef573d5f5f3e3d5ffd5b505050506040513d5f823e601f3d908101601f191682016040526105169190810190611900565b505093505050505f8151116105ae5760405162461bcd60e51b815260206004820152605260248201527f4d61726b6574206e6f74207265736f6c766564207965742e205065726d616e6560448201527f6e74206c6f636b732063616e206f6e6c7920756e7374616b652061667465722060648201527136b0b935b2ba1039b2ba3a3632b6b2b73a1760711b608482015260a4016103d0565b505b5f8381526020818152604080832060ff8616808552925280832084546001860154925163345262bb60e11b8152600481018990526024810194909452909390927f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906368a4c57690604401602060405180830381865afa15801561063f573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061066391906119cb565b604051637921219560e11b81529091506001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063f242432a906106b89030903390869089906004016119e2565b5f604051808303815f87803b1580156106cf575f5ffd5b505af11580156106e1573d5f5f3e3d5ffd5b5050505081845f015f8282546106f79190611a2d565b90915550505f87815260016020818152604080842060ff8b1680865290835281852033808752935281852085815593840185905560028401949094556003909201805460ff1916905590518991907f6571efc35ff1ff181c71599c5d7b30f611de7e83d4275d2cc4ca0e1c6474479e906107749088815260200190565b60405180910390a450505050505050565b610792848484845f610f80565b50505050565b6107a68383835f6001610f80565b505050565b60018260ff1611156107cf5760405162461bcd60e51b81526004016103d0906118b6565b5f83815260016020908152604080832060ff861684528252808320338452909152902080546108375760405162461bcd60e51b815260206004820152601460248201527327379032bc34b9ba34b733903837b9b4ba34b7b760611b60448201526064016103d0565b5f8481526020818152604080832060ff87168452909152808220905163149a507760e11b81526004810187905290919081907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632934a0ee906024015f60405180830381865afa1580156108b7573d5f5f3e3d5ffd5b505050506040513d5f823e601f3d908101601f191682016040526108de9190810190611900565b955050945050505081515f146109065760405162461bcd60e51b81526004016103d090611a40565b5f6109118642611a77565b9050846002015481116109785760405162461bcd60e51b815260206004820152602960248201527f4e6577206c6f636b2074696d65206d757374206265206c6f6e676572207468616044820152681b8818dd5c9c995b9d60ba1b60648201526084016103d0565b818111156109c85760405162461bcd60e51b815260206004820152601b60248201527f43616e6e6f74206c6f636b2070617374206d61726b657420656e64000000000060448201526064016103d0565b5f846001015485600201546109dd9190611a2d565b90505f866001015490505f82670de0b6b3a76400008a8a5f0154610a019190611a8a565b610a0b9190611a8a565b610a159190611aa1565b600189018190556002890185905587549091508190610a35908490611a2d565b610a3f9190611a77565b8755604080515f81526020810183905290810185905260ff8b16908c9033907f13ebcb296bba4eae25019d6dbfd3c841df0fd845298769f4e047952226e586a89060600160405180910390a45050505050505050505050565b60018260ff161115610abc5760405162461bcd60e51b81526004016103d0906118b6565b5f8111610b055760405162461bcd60e51b8152602060048201526017602482015276416d6f756e74206d75737420626520706f73697469766560481b60448201526064016103d0565b5f83815260016020908152604080832060ff86168452825280832033845290915290208054610b6d5760405162461bcd60e51b815260206004820152601460248201527327379032bc34b9ba34b733903837b9b4ba34b7b760611b60448201526064016103d0565b5f8481526020818152604080832060ff87168452909152808220905163149a507760e11b8152600481018790529091907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632934a0ee906024015f60405180830381865afa158015610beb573d5f5f3e3d5ffd5b505050506040513d5f823e601f3d908101601f19168201604052610c129190810190611900565b5050935050505080515f14610c395760405162461bcd60e51b81526004016103d090611a40565b60405163345262bb60e11b81526004810187905260ff861660248201525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906368a4c57690604401602060405180830381865afa158015610ca7573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610ccb91906119cb565b604051637921219560e11b81529091506001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063f242432a90610d20903390309086908b906004016119e2565b5f604051808303815f87803b158015610d37575f5ffd5b505af1158015610d49573d5f5f3e3d5ffd5b505050505f42856002015411610d5f575f610d6f565b428560020154610d6f9190611a2d565b90505f8111610dd25760405162461bcd60e51b815260206004820152602960248201527f4c6f636b20706572696f6420657870697265642c20706c6561736520756e7374604482015268185ad948199a5c9cdd60ba1b60648201526084016103d0565b5f84600101548560020154610de79190611a2d565b90505f81670de0b6b3a7640000610dfe858b611a8a565b610e089190611a8a565b610e129190611aa1565b905087875f015f828254610e269190611a77565b9250508190555080876001015f828254610e409190611a77565b90915550508554819087905f90610e58908490611a77565b90915550506002870154604080518a8152602081018490529081019190915260ff8a16908b9033907f13ebcb296bba4eae25019d6dbfd3c841df0fd845298769f4e047952226e586a89060600160405180910390a450505050505050505050565b5f8281526020818152604080832060ff8516845282528083208151606081018352815481526001820154938101939093526002015490820181905282918291829015801590610f0b57505f8260200151115b8015610f1a5750816040015142105b15610f6b575f82602001518360400151610f349190611a2d565b90505f428460400151610f479190611a2d565b905081610f5c670de0b6b3a764000083611a8a565b610f669190611aa1565b925050505b81516040909201519197919650945092505050565b60018460ff161115610fa45760405162461bcd60e51b81526004016103d0906118b6565b5f8311610fed5760405162461bcd60e51b8152602060048201526017602482015276416d6f756e74206d75737420626520706f73697469766560481b60448201526064016103d0565b5f85815260016020908152604080832060ff88168452825280832033845290915290208054156110855760405162461bcd60e51b815260206004820152603960248201527f506f736974696f6e20616c7265616479206578697374732c2075736520696e6360448201527f7265617365416d6f756e74206f7220657874656e644c6f636b0000000000000060648201526084016103d0565b5f5f5f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663599a9f978a6040518263ffffffff1660e01b81526004016110d691815260200190565b606060405180830381865afa1580156110f1573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906111159190611ac0565b92509250925082156111395760405162461bcd60e51b81526004016103d090611a40565b5f81116111885760405162461bcd60e51b815260206004820152601860248201527f4d61726b6574206d757374206861766520656e6454696d65000000000000000060448201526064016103d0565b4281116111ce5760405162461bcd60e51b815260206004820152601460248201527313585c9ad95d08185b1c9958591e48195b99195960621b60448201526064016103d0565b5f8981526020818152604080832060ff8c168452909152812060028101549091036112025760018101839055600281018290555b5f5f87156112315783915061121f670de0b6b3a76400008b611a8a565b61122a906002611a8a565b905061138b565b620151808910156112905760405162461bcd60e51b815260206004820152602360248201527f4c6f636b206475726174696f6e20746f6f2073686f727420286d696e2031206460448201526261792960e81b60648201526084016103d0565b61129a8942611a77565b91506201518084116112ac575f6112b9565b6112b96201518085611a2d565b82106113425760405162461bcd60e51b815260206004820152604c60248201527f43616e6e6f7420756e6c6f636b20696e20736574746c656d656e74207065726960448201527f6f6420286c617374203120646179292e20557365207065726d616e656e74206c60648201526b37b1b59034b739ba32b0b21760a11b608482015260a4016103d0565b826001015483600201546113569190611a2d565b611361906002611a8a565b670de0b6b3a76400006113748b8d611a8a565b61137e9190611a8a565b6113889190611aa1565b90505b6113968c8c8c611427565b898755600187018190556002870182905560038701805460ff19168915151790558254819084905f906113ca908490611a77565b9091555050604080518b81526020810183905290810183905260ff8c16908d9033907f13ebcb296bba4eae25019d6dbfd3c841df0fd845298769f4e047952226e586a89060600160405180910390a4505050505050505050505050565b60405163345262bb60e11b81526004810184905260ff831660248201525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906368a4c57690604401602060405180830381865afa158015611495573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906114b991906119cb565b604051637921219560e11b81529091506001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063f242432a9061150e9033903090869088906004016119e2565b5f604051808303815f87803b158015611525575f5ffd5b505af1158015611537573d5f5f3e3d5ffd5b5050505050505050565b5f60208284031215611551575f5ffd5b81356001600160e01b031981168114611568575f5ffd5b9392505050565b803560ff8116811461157f575f5ffd5b919050565b5f5f60408385031215611595575f5ffd5b823591506115a56020840161156f565b90509250929050565b5f5f5f5f608085870312156115c1575f5ffd5b843593506115d16020860161156f565b93969395505050506040820135916060013590565b5f5f5f606084860312156115f8575f5ffd5b833592506116086020850161156f565b929592945050506040919091013590565b6001600160a01b038116811461162d575f5ffd5b50565b5f5f5f60608486031215611642575f5ffd5b833592506116526020850161156f565b9150604084013561166281611619565b809150509250925092565b634e487b7160e01b5f52604160045260245ffd5b604051601f8201601f1916810167ffffffffffffffff811182821017156116aa576116aa61166d565b604052919050565b5f67ffffffffffffffff8211156116cb576116cb61166d565b5060051b60200190565b5f82601f8301126116e4575f5ffd5b81356116f76116f2826116b2565b611681565b8082825260208201915060208360051b860101925085831115611718575f5ffd5b602085015b8381101561173557803583526020928301920161171d565b5095945050505050565b5f82601f83011261174e575f5ffd5b813567ffffffffffffffff8111156117685761176861166d565b61177b601f8201601f1916602001611681565b81815284602083860101111561178f575f5ffd5b816020850160208301375f918101602001919091529392505050565b5f5f5f5f5f60a086880312156117bf575f5ffd5b85356117ca81611619565b945060208601356117da81611619565b9350604086013567ffffffffffffffff8111156117f5575f5ffd5b611801888289016116d5565b935050606086013567ffffffffffffffff81111561181d575f5ffd5b611829888289016116d5565b925050608086013567ffffffffffffffff811115611845575f5ffd5b6118518882890161173f565b9150509295509295909350565b5f5f5f5f5f60a08688031215611872575f5ffd5b853561187d81611619565b9450602086013561188d81611619565b93506040860135925060608601359150608086013567ffffffffffffffff811115611845575f5ffd5b6020808252602a908201527f496e76616c6964206f7574636f6d653a206d757374206265203020284e4f29206040820152696f72203120285945532960b01b606082015260800190565b5f5f5f5f5f5f60c08789031215611915575f5ffd5b865161192081611619565b6020880151604089015160608a0151929850909650945067ffffffffffffffff81111561194b575f5ffd5b8701601f8101891361195b575f5ffd5b80516119696116f2826116b2565b8082825260208201915060208360051b85010192508b83111561198a575f5ffd5b6020840193505b828410156119ac578351825260209384019390910190611991565b60808b015160a0909b0151999c989b5096999698969795505050505050565b5f602082840312156119db575f5ffd5b5051919050565b6001600160a01b0394851681529290931660208301526040820152606081019190915260a0608082018190525f9082015260c00190565b634e487b7160e01b5f52601160045260245ffd5b818103818111156103a6576103a6611a19565b60208082526017908201527f4d61726b657420616c7265616479207265736f6c766564000000000000000000604082015260600190565b808201808211156103a6576103a6611a19565b80820281158282048414176103a6576103a6611a19565b5f82611abb57634e487b7160e01b5f52601260045260245ffd5b500490565b5f5f5f60608486031215611ad2575f5ffd5b83518015158114611ae1575f5ffd5b60208501516040909501519096949550939250505056fea26469706673582212200d8027b129c6b58987c31cc307ed218811ae54f0f8795e2a86a4058cf047e34764736f6c634300081c0033"
}